{
  "version": 3,
  "sources": ["../../routes/articles.ts"],
  "sourcesContent": ["import Router, { RouterContext } from \"koa-router\";\nimport bodyParser from \"koa-bodyparser\";\n\ninterface iArticles {\n  id: number\n  title: string\n  fullText: string\n}\n\ninterface iArticlesArray extends Array<iArticles> { }\n\nconst articles: iArticlesArray = [\n  { id: 1, title: 'hello article', fullText: 'some text here to fill the body' },\n  { id: 2, title: 'another article', fullText: 'again here is some text here to fill' },\n  { id: 3, title: 'coventry university ', fullText: 'some news about coventry university' },\n  { id: 4, title: 'smart campus', fullText: 'smart campus is coming to IVE' }\n];\n\n\nconst router = new Router({ prefix: '/api/v1/articles' });\n\nconst getAll = async (ctx: RouterContext, next: any) => {\n  ctx.body = articles\n\n  await next()\n}\nconst getById = async (ctx: RouterContext, next: any) => {\n  let id = +ctx.params.id\n  console.log(id)\n  console.log(articles.length + 1)\n  if ((id < articles.length + 1) && (id > 0)) {\n    ctx.body = articles[id - 1]\n  } else {\n    ctx.status = 404\n  }\n\n  await next()\n}\nconst createArticle = async (ctx: RouterContext, next: any) => {\n  let { title, fullText } = <iArticles>ctx.request.body;\n  const lastestId = articles.at(-1)?.id ?? 0\n  let newArticle = { id: lastestId + 1, title: title, fullText: fullText }\n  articles.push(newArticle)\n  ctx.status = 201\n  ctx.body = newArticle\n\n  await next()\n}\nconst updateArticle = async (ctx: RouterContext, next: any) => {\n  await next()\n}\nconst deleteArticle = async (ctx: RouterContext, next: any) => {\n  await next()\n}\n\nrouter.get('/', getAll);\nrouter.get('/:id([0-9]{1,})', getById);\nrouter.post('/', bodyParser(), createArticle);\nrouter.put('/:id([0-9]{1,})', updateArticle);\nrouter.delete('/:id([0-9]{1,})', deleteArticle);\n\nexport { router }"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAsC;AACtC,4BAAuB;AAUvB,MAAM,WAA2B;AAAA,EAC/B,EAAE,IAAI,GAAG,OAAO,iBAAiB,UAAU,kCAAkC;AAAA,EAC7E,EAAE,IAAI,GAAG,OAAO,mBAAmB,UAAU,uCAAuC;AAAA,EACpF,EAAE,IAAI,GAAG,OAAO,wBAAwB,UAAU,sCAAsC;AAAA,EACxF,EAAE,IAAI,GAAG,OAAO,gBAAgB,UAAU,gCAAgC;AAC5E;AAGA,MAAM,SAAS,IAAI,kBAAAA,QAAO,EAAE,QAAQ,mBAAmB,CAAC;AAExD,MAAM,SAAS,OAAO,KAAoB,SAAc;AACtD,MAAI,OAAO;AAEX,QAAM,KAAK;AACb;AACA,MAAM,UAAU,OAAO,KAAoB,SAAc;AACvD,MAAI,KAAK,CAAC,IAAI,OAAO;AACrB,UAAQ,IAAI,EAAE;AACd,UAAQ,IAAI,SAAS,SAAS,CAAC;AAC/B,MAAK,KAAK,SAAS,SAAS,KAAO,KAAK,GAAI;AAC1C,QAAI,OAAO,SAAS,KAAK;AAAA,EAC3B,OAAO;AACL,QAAI,SAAS;AAAA,EACf;AAEA,QAAM,KAAK;AACb;AACA,MAAM,gBAAgB,OAAO,KAAoB,SAAc;AAtC/D;AAuCE,MAAI,EAAE,OAAO,SAAS,IAAe,IAAI,QAAQ;AACjD,QAAM,cAAY,cAAS,GAAG,EAAE,MAAd,mBAAiB,OAAM;AACzC,MAAI,aAAa,EAAE,IAAI,YAAY,GAAG,OAAc,SAAmB;AACvE,WAAS,KAAK,UAAU;AACxB,MAAI,SAAS;AACb,MAAI,OAAO;AAEX,QAAM,KAAK;AACb;AACA,MAAM,gBAAgB,OAAO,KAAoB,SAAc;AAC7D,QAAM,KAAK;AACb;AACA,MAAM,gBAAgB,OAAO,KAAoB,SAAc;AAC7D,QAAM,KAAK;AACb;AAEA,OAAO,IAAI,KAAK,MAAM;AACtB,OAAO,IAAI,mBAAmB,OAAO;AACrC,OAAO,KAAK,SAAK,sBAAAC,SAAW,GAAG,aAAa;AAC5C,OAAO,IAAI,mBAAmB,aAAa;AAC3C,OAAO,OAAO,mBAAmB,aAAa;",
  "names": ["Router", "bodyParser"]
}
